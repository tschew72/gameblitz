@tailwind base;
@tailwind components;
@tailwind utilities;

/* ─────────────────────────────────────────────────────
   BASE LAYER
   ───────────────────────────────────────────────────── */
@layer base {
  html {
    color-scheme: dark;
  }

  body {
    @apply bg-brand-purple min-h-screen text-white;
    overflow-x: hidden;
  }

  select option {
    background-color: #2d1b69;
    color: white;
  }
}

/* ─────────────────────────────────────────────────────
   COMPONENT LAYER
   ───────────────────────────────────────────────────── */
@layer components {
  .btn {
    @apply px-6 py-3 rounded-lg font-semibold transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed;
  }
  .btn-primary {
    @apply btn bg-brand-pink hover:bg-pink-600 text-white shadow-lg hover:shadow-xl;
  }
  .btn-secondary {
    @apply btn bg-white/10 hover:bg-white/20 text-white border border-white/20;
  }
  .btn-answer {
    @apply btn w-full py-8 text-xl font-bold text-white shadow-lg;
  }
  .input {
    @apply w-full px-4 py-3 rounded-lg bg-white/10 border border-white/20 text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-brand-pink focus:border-transparent;
  }
  .card {
    @apply bg-white/10 backdrop-blur-sm rounded-xl p-6 border border-white/10;
  }
}

@layer utilities {
  .text-shadow {
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
  }
  .text-shadow-lg {
    text-shadow: 0 0 20px rgba(255, 51, 85, 0.5), 0 0 40px rgba(255, 51, 85, 0.2);
  }
}

/* ─────────────────────────────────────────────────────
   GAME BACKGROUND — AMBIENT GRID & GLOW
   ───────────────────────────────────────────────────── */
.game-bg {
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 0;
  background:
    radial-gradient(ellipse at 20% 50%, rgba(70, 23, 143, 0.6) 0%, transparent 60%),
    radial-gradient(ellipse at 80% 20%, rgba(255, 51, 85, 0.15) 0%, transparent 50%),
    radial-gradient(ellipse at 50% 100%, rgba(19, 104, 206, 0.12) 0%, transparent 40%);
}

.game-bg::after {
  content: '';
  position: absolute;
  inset: 0;
  background-image:
    linear-gradient(rgba(255,255,255,0.02) 1px, transparent 1px),
    linear-gradient(90deg, rgba(255,255,255,0.02) 1px, transparent 1px);
  background-size: 60px 60px;
  mask-image: radial-gradient(ellipse at center, black 20%, transparent 70%);
}

/* ─────────────────────────────────────────────────────
   FLOATING AMBIENT PARTICLES
   ───────────────────────────────────────────────────── */
.floating-particles {
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 0;
  overflow: hidden;
}

.floating-dot {
  position: absolute;
  border-radius: 50%;
  animation: floatDrift linear infinite;
}

@keyframes floatDrift {
  0%, 100% {
    transform: translate(0, 0) scale(1);
    opacity: 0;
  }
  10% {
    opacity: var(--float-opacity, 0.3);
  }
  50% {
    transform: translate(30px, -60px) scale(1.5);
    opacity: var(--float-opacity, 0.3);
  }
  90% {
    opacity: var(--float-opacity, 0.3);
  }
}

/* ─────────────────────────────────────────────────────
   CONFETTI SYSTEM
   ───────────────────────────────────────────────────── */
.confetti-container {
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 100;
  overflow: hidden;
}

.confetti-particle {
  position: absolute;
  top: -20px;
  left: var(--x);
  animation: confettiFall var(--duration) ease-out var(--delay) forwards;
}

.confetti-rect {
  width: var(--size);
  height: calc(var(--size) * 0.6);
  background: var(--color);
  border-radius: 2px;
}

.confetti-circle {
  width: var(--size);
  height: var(--size);
  background: var(--color);
  border-radius: 50%;
}

.confetti-triangle {
  width: 0;
  height: 0;
  border-left: calc(var(--size) / 2) solid transparent;
  border-right: calc(var(--size) / 2) solid transparent;
  border-bottom: var(--size) solid var(--color);
}

@keyframes confettiFall {
  0% {
    transform: translateY(0) rotate(0deg) scale(0);
    opacity: 1;
  }
  10% {
    transform: translateY(10vh) rotate(calc(var(--rotation) * 0.2)) scale(1);
    opacity: 1;
  }
  80% {
    opacity: 1;
  }
  100% {
    transform: translateY(105vh) rotate(var(--rotation)) scale(0.5);
    opacity: 0;
  }
}

/* ─────────────────────────────────────────────────────
   COUNTDOWN RING TIMER
   ───────────────────────────────────────────────────── */
.countdown-ring {
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
}

.countdown-ring-svg {
  position: absolute;
  inset: 0;
}

.countdown-ring-progress {
  transition: stroke-dashoffset 1s linear, stroke 0.4s ease;
  filter: drop-shadow(0 0 6px rgba(255, 51, 85, 0.4));
}

.countdown-ring-text {
  font-size: 1.5rem;
  font-weight: 800;
  z-index: 1;
  transition: color 0.3s, transform 0.2s;
}

.countdown-text-urgent {
  color: #e21b3c;
  animation: timerPulse 0.6s ease-in-out infinite;
}

.countdown-urgent .countdown-ring-progress {
  filter: drop-shadow(0 0 12px rgba(226, 27, 60, 0.8));
}

@keyframes timerPulse {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.15); }
}

/* ─────────────────────────────────────────────────────
   ANSWER BUTTONS — ENTRANCE & INTERACTION
   ───────────────────────────────────────────────────── */
.answer-btn {
  position: relative;
  overflow: hidden;
  transform: translateY(40px);
  opacity: 0;
  animation: answerSlideIn 0.4s cubic-bezier(0.16, 1, 0.3, 1) forwards;
  transition: transform 0.15s ease, box-shadow 0.15s ease;
}

.answer-btn:hover:not(:disabled) {
  transform: translateY(-2px) scale(1.02);
  box-shadow: 0 8px 30px rgba(0,0,0,0.3);
}

.answer-btn:active:not(:disabled) {
  transform: translateY(0) scale(0.97);
}

.answer-btn::before {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(135deg, rgba(255,255,255,0.15) 0%, transparent 50%);
  border-radius: inherit;
}

.answer-btn::after {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 0;
  height: 0;
  background: rgba(255,255,255,0.2);
  border-radius: 50%;
  transform: translate(-50%, -50%);
  transition: width 0.5s, height 0.5s, opacity 0.5s;
  opacity: 0;
}

.answer-btn.answer-selected::after {
  width: 300%;
  height: 300%;
  opacity: 1;
}

@keyframes answerSlideIn {
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* ─────────────────────────────────────────────────────
   RESULT — CORRECT / INCORRECT BURST
   ───────────────────────────────────────────────────── */
.result-icon {
  position: relative;
  animation: resultBounceIn 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

.result-icon::before {
  content: '';
  position: absolute;
  inset: -20px;
  border-radius: 50%;
  animation: resultRipple 1.2s ease-out 0.3s forwards;
  opacity: 0;
}

.result-correct::before {
  border: 3px solid #26890c;
}

.result-incorrect::before {
  border: 3px solid #e21b3c;
}

@keyframes resultBounceIn {
  0% { transform: scale(0) rotate(-10deg); opacity: 0; }
  60% { transform: scale(1.15) rotate(3deg); opacity: 1; }
  100% { transform: scale(1) rotate(0deg); opacity: 1; }
}

@keyframes resultRipple {
  0% { transform: scale(0.8); opacity: 0.6; }
  100% { transform: scale(2); opacity: 0; }
}

/* Points counter */
.points-reveal {
  animation: pointsReveal 0.8s cubic-bezier(0.16, 1, 0.3, 1) 0.4s both;
}

@keyframes pointsReveal {
  0% { transform: translateY(20px) scale(0.5); opacity: 0; }
  60% { transform: translateY(-4px) scale(1.05); }
  100% { transform: translateY(0) scale(1); opacity: 1; }
}

/* ─────────────────────────────────────────────────────
   LEADERBOARD ROWS — STAGGER IN
   ───────────────────────────────────────────────────── */
.lb-row {
  opacity: 0;
  transform: translateX(-30px);
  animation: lbSlideIn 0.5s cubic-bezier(0.16, 1, 0.3, 1) forwards;
}

.lb-row:nth-child(1) { animation-delay: 0.1s; }
.lb-row:nth-child(2) { animation-delay: 0.2s; }
.lb-row:nth-child(3) { animation-delay: 0.3s; }
.lb-row:nth-child(4) { animation-delay: 0.4s; }
.lb-row:nth-child(5) { animation-delay: 0.5s; }

@keyframes lbSlideIn {
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

/* Score count-up glow */
.score-glow {
  animation: scoreGlow 1s ease-out 0.6s both;
}

@keyframes scoreGlow {
  0% { text-shadow: none; }
  50% { text-shadow: 0 0 20px rgba(255, 51, 85, 0.8), 0 0 40px rgba(255, 51, 85, 0.4); }
  100% { text-shadow: 0 0 8px rgba(255, 51, 85, 0.3); }
}

/* ─────────────────────────────────────────────────────
   PODIUM — GRAND REVEAL
   ───────────────────────────────────────────────────── */
.podium-title {
  animation: podiumTitleIn 0.8s cubic-bezier(0.16, 1, 0.3, 1) both;
}

@keyframes podiumTitleIn {
  0% { transform: scale(0.3) translateY(-40px); opacity: 0; filter: blur(10px); }
  100% { transform: scale(1) translateY(0); opacity: 1; filter: blur(0); }
}

.podium-bar {
  transform-origin: bottom center;
  animation: podiumRise 0.8s cubic-bezier(0.34, 1.56, 0.64, 1) both;
}

.podium-bar-1st { animation-delay: 0.3s; }
.podium-bar-2nd { animation-delay: 0.6s; }
.podium-bar-3rd { animation-delay: 0.9s; }

@keyframes podiumRise {
  0% { transform: scaleY(0); opacity: 0; }
  100% { transform: scaleY(1); opacity: 1; }
}

.podium-name {
  opacity: 0;
  animation: podiumNameIn 0.5s ease-out both;
}

.podium-name-1st { animation-delay: 0.8s; }
.podium-name-2nd { animation-delay: 1.1s; }
.podium-name-3rd { animation-delay: 1.4s; }

@keyframes podiumNameIn {
  0% { transform: translateY(10px); opacity: 0; }
  100% { transform: translateY(0); opacity: 1; }
}

/* Crown bounce */
.crown-bounce {
  animation: crownDrop 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) 1s both;
}

@keyframes crownDrop {
  0% { transform: translateY(-60px) rotate(-20deg) scale(0); opacity: 0; }
  60% { transform: translateY(5px) rotate(5deg) scale(1.2); opacity: 1; }
  100% { transform: translateY(0) rotate(0deg) scale(1); opacity: 1; }
}

/* ─────────────────────────────────────────────────────
   LOBBY — PLAYER JOIN ANIMATION
   ───────────────────────────────────────────────────── */
.player-card-enter {
  animation: playerCardPop 0.4s cubic-bezier(0.34, 1.56, 0.64, 1) both;
}

@keyframes playerCardPop {
  0% { transform: scale(0) rotate(-5deg); opacity: 0; }
  100% { transform: scale(1) rotate(0); opacity: 1; }
}

/* PIN digit styling */
.pin-digit {
  display: inline-block;
  animation: pinDigitIn 0.3s cubic-bezier(0.34, 1.56, 0.64, 1) both;
}

@keyframes pinDigitIn {
  0% { transform: translateY(-20px) rotateX(90deg); opacity: 0; }
  100% { transform: translateY(0) rotateX(0); opacity: 1; }
}

/* ─────────────────────────────────────────────────────
   QUESTION CARD — ENTRANCE
   ───────────────────────────────────────────────────── */
.question-enter {
  animation: questionEnter 0.6s cubic-bezier(0.16, 1, 0.3, 1) both;
}

@keyframes questionEnter {
  0% { transform: translateY(-20px) scale(0.95); opacity: 0; filter: blur(4px); }
  100% { transform: translateY(0) scale(1); opacity: 1; filter: blur(0); }
}

/* ─────────────────────────────────────────────────────
   PROGRESS BAR — ANIMATED FILL
   ───────────────────────────────────────────────────── */
.bar-fill {
  animation: barGrow 0.8s cubic-bezier(0.16, 1, 0.3, 1) 0.2s both;
  position: relative;
}

.bar-fill::after {
  content: '';
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  width: 30px;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2));
  border-radius: inherit;
}

@keyframes barGrow {
  0% { max-width: 0; }
  100% { max-width: 100%; }
}

/* ─────────────────────────────────────────────────────
   PAGE TRANSITIONS
   ───────────────────────────────────────────────────── */
.phase-enter {
  animation: phaseEnter 0.5s cubic-bezier(0.16, 1, 0.3, 1) both;
}

@keyframes phaseEnter {
  0% { opacity: 0; transform: scale(0.97); filter: blur(3px); }
  100% { opacity: 1; transform: scale(1); filter: blur(0); }
}

/* ─────────────────────────────────────────────────────
   WAITING SPINNER — ORBIT DOTS
   ───────────────────────────────────────────────────── */
.orbit-loader {
  width: 80px;
  height: 80px;
  position: relative;
}

.orbit-dot {
  position: absolute;
  width: 12px;
  height: 12px;
  border-radius: 50%;
  top: 50%;
  left: 50%;
  margin: -6px 0 0 -6px;
  animation: orbitSpin 2s linear infinite;
}

.orbit-dot:nth-child(1) {
  background: #e21b3c;
  animation-delay: 0s;
}
.orbit-dot:nth-child(2) {
  background: #1368ce;
  animation-delay: 0.5s;
}
.orbit-dot:nth-child(3) {
  background: #d89e00;
  animation-delay: 1s;
}
.orbit-dot:nth-child(4) {
  background: #26890c;
  animation-delay: 1.5s;
}

@keyframes orbitSpin {
  0% { transform: rotate(0deg) translateX(28px) scale(0.6); opacity: 0.3; }
  50% { transform: rotate(180deg) translateX(28px) scale(1); opacity: 1; }
  100% { transform: rotate(360deg) translateX(28px) scale(0.6); opacity: 0.3; }
}

/* ─────────────────────────────────────────────────────
   ANSWERED STATE PULSE
   ───────────────────────────────────────────────────── */
.answered-pulse {
  animation: answeredPulse 2s ease-in-out infinite;
}

@keyframes answeredPulse {
  0%, 100% { box-shadow: 0 0 0 0 rgba(255, 51, 85, 0.4); }
  50% { box-shadow: 0 0 0 20px rgba(255, 51, 85, 0); }
}

/* ─────────────────────────────────────────────────────
   RANK BADGE GLOW
   ───────────────────────────────────────────────────── */
.rank-badge-gold {
  background: linear-gradient(135deg, #ffd700 0%, #ffaa00 50%, #ffd700 100%);
  box-shadow: 0 0 20px rgba(255, 215, 0, 0.4);
  animation: badgeShine 3s ease-in-out infinite;
}

.rank-badge-silver {
  background: linear-gradient(135deg, #c0c0c0 0%, #e8e8e8 50%, #c0c0c0 100%);
  box-shadow: 0 0 15px rgba(192, 192, 192, 0.3);
}

.rank-badge-bronze {
  background: linear-gradient(135deg, #cd7f32 0%, #e8a860 50%, #cd7f32 100%);
  box-shadow: 0 0 12px rgba(205, 127, 50, 0.3);
}

@keyframes badgeShine {
  0%, 100% { filter: brightness(1); }
  50% { filter: brightness(1.3); }
}

/* ─────────────────────────────────────────────────────
   BASIC ANIMATION CLASSES
   ───────────────────────────────────────────────────── */
.animate-fadeIn {
  animation: fadeIn 0.3s ease-out forwards;
}
.animate-slideUp {
  animation: slideUp 0.5s ease-out forwards;
}
.animate-scaleIn {
  animation: scaleIn 0.3s ease-out forwards;
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}
@keyframes slideUp {
  from { opacity: 0; transform: translateY(50px); }
  to { opacity: 1; transform: translateY(0); }
}
@keyframes scaleIn {
  from { opacity: 0; transform: scale(0.9); }
  to { opacity: 1; transform: scale(1); }
}

/* ─────────────────────────────────────────────────────
   AAA GAME EFFECTS — PARTICLES & EFFECTS
   ───────────────────────────────────────────────────── */

/* Screen shake */
.animate-shake {
  animation: screenShake 0.15s ease-in-out;
}

@keyframes screenShake {
  0%, 100% { transform: translateX(0); }
  20% { transform: translateX(-8px) rotate(-1deg); }
  40% { transform: translateX(8px) rotate(1deg); }
  60% { transform: translateX(-6px) rotate(-0.5deg); }
  80% { transform: translateX(6px) rotate(0.5deg); }
}

/* Mole popup with bounce */
.animate-mole-popup {
  animation: molePopup 0.3s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

@keyframes molePopup {
  0% {
    transform: scale(0) translateY(30px);
    opacity: 0;
  }
  50% {
    transform: scale(1.2) translateY(-5px);
  }
  100% {
    transform: scale(1) translateY(0);
    opacity: 1;
  }
}

/* Particle burst */
.animate-particle-burst {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  animation: particleBurst 0.6s ease-out forwards;
}

@keyframes particleBurst {
  0% {
    transform: translate(-50%, -50%) scale(1);
    opacity: 1;
  }
  100% {
    transform: translate(
      calc(-50% + cos(var(--particle-angle)) * var(--particle-distance)),
      calc(-50% + sin(var(--particle-angle)) * var(--particle-distance))
    ) scale(0);
    opacity: 0;
  }
}

/* Particle ring */
.animate-particle-ring {
  width: 20px;
  height: 20px;
  border-radius: 50%;
  border: 3px solid;
  animation: particleRing 0.5s ease-out forwards;
}

@keyframes particleRing {
  0% {
    transform: translate(-50%, -50%) scale(0.5);
    opacity: 1;
  }
  100% {
    transform: translate(-50%, -50%) scale(4);
    opacity: 0;
  }
}

/* Particle spark */
.animate-particle-spark {
  width: 4px;
  height: 4px;
  border-radius: 50%;
  animation: particleSpark 0.4s ease-out forwards;
}

@keyframes particleSpark {
  0% {
    transform: translate(-50%, -50%) scale(1);
    opacity: 1;
  }
  100% {
    transform: translate(
      calc(-50% + (var(--particle-distance) * 1.5) * cos(var(--particle-angle))),
      calc(-50% + (var(--particle-distance) * 1.5) * sin(var(--particle-angle)) - 30px)
    ) scale(0);
    opacity: 0;
  }
}

/* Floating text */
.animate-float-up {
  animation: floatUp 1s ease-out forwards;
}

@keyframes floatUp {
  0% {
    transform: translate(-50%, -50%) scale(0.5);
    opacity: 0;
  }
  20% {
    transform: translate(-50%, -50%) scale(1.2);
    opacity: 1;
  }
  100% {
    transform: translate(-50%, calc(-50% - 80px)) scale(0.8);
    opacity: 0;
  }
}

/* Countdown animation */
.animate-countdown {
  animation: countdownPop 1s ease-out;
}

@keyframes countdownPop {
  0% {
    transform: scale(3);
    opacity: 0;
    filter: blur(20px);
  }
  30% {
    transform: scale(1);
    opacity: 1;
    filter: blur(0);
  }
  70% {
    transform: scale(1);
    opacity: 1;
  }
  100% {
    transform: scale(0.8);
    opacity: 0;
  }
}

/* Combo flash */
.animate-combo-flash {
  animation: comboFlash 0.5s ease-out;
}

@keyframes comboFlash {
  0% {
    transform: translate(-50%, -50%) scale(0.5);
    opacity: 0;
  }
  50% {
    transform: translate(-50%, -50%) scale(1.2);
    opacity: 1;
  }
  100% {
    transform: translate(-50%, -50%) scale(1);
    opacity: 0;
  }
}

/* Score reveal */
.animate-score-reveal {
  animation: scoreReveal 0.8s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

@keyframes scoreReveal {
  0% {
    transform: scale(0) rotate(-10deg);
    opacity: 0;
  }
  60% {
    transform: scale(1.1) rotate(3deg);
  }
  100% {
    transform: scale(1) rotate(0);
    opacity: 1;
  }
}

/* Confetti fall */
.animate-confetti-fall {
  animation: confettiFallNew 3s ease-out forwards;
}

@keyframes confettiFallNew {
  0% {
    transform: translateY(-20px) rotate(0deg);
    opacity: 1;
  }
  100% {
    transform: translateY(100vh) rotate(720deg);
    opacity: 0;
  }
}

/* Target pulse for rapid response */
.animate-target-pulse {
  animation: targetPulse 0.3s ease-out;
}

@keyframes targetPulse {
  0% {
    box-shadow: 0 0 0 0 currentColor;
  }
  100% {
    box-shadow: 0 0 0 20px transparent;
  }
}

/* Resource float */
.animate-resource-float {
  animation: resourceFloat linear forwards;
}

@keyframes resourceFloat {
  0% {
    transform: translateY(-100px) rotate(0deg);
    opacity: 0;
  }
  10% {
    opacity: 1;
  }
  90% {
    opacity: 1;
  }
  100% {
    transform: translateY(calc(100vh + 100px)) rotate(360deg);
    opacity: 0;
  }
}

/* Tower attack flash */
.animate-tower-attack {
  animation: towerAttack 0.2s ease-out;
}

@keyframes towerAttack {
  0%, 100% {
    filter: brightness(1);
  }
  50% {
    filter: brightness(2);
  }
}

/* Enemy hit flash */
.animate-enemy-hit {
  animation: enemyHit 0.2s ease-out;
}

@keyframes enemyHit {
  0%, 100% {
    transform: scale(1);
    filter: brightness(1);
  }
  50% {
    transform: scale(0.8);
    filter: brightness(2) saturate(0);
  }
}

/* Projectile travel */
.animate-projectile {
  animation: projectileTravel 0.3s linear forwards;
}

@keyframes projectileTravel {
  0% {
    transform: translateY(0) scale(1);
    opacity: 1;
  }
  100% {
    transform: translateY(-100px) scale(0.5);
    opacity: 0;
  }
}

/* Glow pulse */
.animate-glow-pulse {
  animation: glowPulse 2s ease-in-out infinite;
}

@keyframes glowPulse {
  0%, 100% {
    filter: drop-shadow(0 0 10px currentColor);
  }
  50% {
    filter: drop-shadow(0 0 30px currentColor);
  }
}

/* Pop in legacy */
.animate-pop-in {
  animation: popIn 0.2s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

@keyframes popIn {
  0% {
    transform: scale(0) translateY(20px);
    opacity: 0;
  }
  100% {
    transform: scale(1) translateY(0);
    opacity: 1;
  }
}

/* Float animation */
.animate-float {
  animation: floatUpDown 3s ease-in-out infinite;
}

@keyframes floatUpDown {
  0%, 100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-15px);
  }
}

/* Float particle for backgrounds */
.animate-float-particle {
  animation: floatParticle 5s ease-in-out infinite;
}

@keyframes floatParticle {
  0%, 100% {
    transform: translate(0, 0) scale(1);
    opacity: 0.2;
  }
  25% {
    transform: translate(10px, -20px) scale(1.2);
    opacity: 0.5;
  }
  50% {
    transform: translate(-5px, -40px) scale(0.8);
    opacity: 0.3;
  }
  75% {
    transform: translate(15px, -20px) scale(1.1);
    opacity: 0.4;
  }
}

/* Fall preview for resource rush ready screen */
.animate-fall-preview {
  animation: fallPreview linear infinite;
}

@keyframes fallPreview {
  0% {
    transform: translateY(-100px) rotate(0deg);
    opacity: 0;
  }
  10% {
    opacity: 0.3;
  }
  90% {
    opacity: 0.3;
  }
  100% {
    transform: translateY(100vh) rotate(360deg);
    opacity: 0;
  }
}

/* Projectile animation for tower defense */
.animate-projectile {
  animation: projectileMove 0.3s ease-out forwards;
}

@keyframes projectileMove {
  0% {
    transform: translate(-50%, 0) scaleY(1);
    opacity: 1;
  }
  100% {
    transform: translate(-50%, -150px) scaleY(2);
    opacity: 0;
  }
}

/* Enemy hit effect */
.animate-enemy-hit {
  animation: enemyHitFlash 0.15s ease-out;
}

@keyframes enemyHitFlash {
  0%, 100% {
    filter: brightness(1);
    transform: scale(1);
  }
  50% {
    filter: brightness(3) saturate(0);
    transform: scale(0.9);
  }
}

/* Glow pulse for special items */
.animate-glow {
  animation: glowPulseEffect 1.5s ease-in-out infinite;
}

@keyframes glowPulseEffect {
  0%, 100% {
    filter: drop-shadow(0 0 5px currentColor);
  }
  50% {
    filter: drop-shadow(0 0 25px currentColor) drop-shadow(0 0 50px currentColor);
  }
}

/* Shimmer effect */
.animate-shimmer {
  background: linear-gradient(
    90deg,
    transparent 0%,
    rgba(255, 255, 255, 0.2) 50%,
    transparent 100%
  );
  background-size: 200% 100%;
  animation: shimmer 2s linear infinite;
}

@keyframes shimmer {
  0% {
    background-position: -200% 0;
  }
  100% {
    background-position: 200% 0;
  }
}

/* Radar sweep for tower defense */
.animate-radar {
  animation: radarSweep 2s linear infinite;
}

@keyframes radarSweep {
  0% {
    transform: rotate(0deg);
    opacity: 0.5;
  }
  100% {
    transform: rotate(360deg);
    opacity: 0.5;
  }
}

/* Heartbeat for lives */
.animate-heartbeat {
  animation: heartbeat 1s ease-in-out infinite;
}

@keyframes heartbeat {
  0%, 100% {
    transform: scale(1);
  }
  14% {
    transform: scale(1.15);
  }
  28% {
    transform: scale(1);
  }
  42% {
    transform: scale(1.15);
  }
  56% {
    transform: scale(1);
  }
}

/* Wave incoming pulse */
.animate-wave-alert {
  animation: waveAlert 0.5s ease-out;
}

@keyframes waveAlert {
  0% {
    transform: scale(0.8);
    opacity: 0;
  }
  50% {
    transform: scale(1.1);
    opacity: 1;
  }
  100% {
    transform: scale(1);
    opacity: 1;
  }
}
